---
title: Anthropic (Claude)
description: Configure Anthropic Claude models for Cyberstrike
sidebar:
  order: 2
  label: Anthropic
---

Anthropic's Claude models provide advanced reasoning capabilities for security analysis. This guide covers configuration and best practices.

{/* TODO: Screenshot - Anthropic model selection */}
<div className="border-2 border-dashed border-gray-400 dark:border-gray-600 rounded-lg p-8 my-6 text-center bg-gray-100 dark:bg-gray-800">
  <p className="text-gray-500 dark:text-gray-400 font-mono text-sm">üì∏ SCREENSHOT: anthropic-model-select.png</p>
  <p className="text-gray-400 dark:text-gray-500 text-xs mt-2">Anthropic model selection dialog</p>
</div>

## Available Models

| Model | Context | Best For |
|-------|---------|----------|
| claude-sonnet-4-20250514 | 200K | General security testing |
| claude-opus-4-5-20251101 | 200K | Complex analysis, research |
| claude-3-5-haiku-20241022 | 200K | Quick scans, high volume |

## Authentication

### API Key Setup

1. Get your API key from [console.anthropic.com](https://console.anthropic.com)
2. Run the authentication command:

```bash
cyberstrike auth login
# Select: Anthropic
# Enter your API key
```

### Environment Variable

```bash
export ANTHROPIC_API_KEY="sk-ant-api03-..."
```

Add to your shell profile for persistence:

```bash
echo 'export ANTHROPIC_API_KEY="sk-ant-..."' >> ~/.zshrc
```

### Configuration File

```json title="~/.cyberstrike/config.json"
{
  "provider": {
    "anthropic": {
      "options": {
        "apiKey": "{env:ANTHROPIC_API_KEY}"
      }
    }
  }
}
```

## Model Configuration

### Set Default Model

```json title="~/.cyberstrike/config.json"
{
  "model": "anthropic/claude-sonnet-4-20250514"
}
```

### Command Line Override

```bash
cyberstrike --model anthropic/claude-opus-4-5-20251101
```

### In-Session Switching

```
/model
# Select Claude model
```

## Extended Thinking

Enable extended thinking for complex security analysis:

```json title="~/.cyberstrike/config.json"
{
  "provider": {
    "anthropic": {
      "options": {
        "thinking": {
          "type": "enabled",
          "budgetTokens": 10000
        }
      }
    }
  }
}
```

### When to Use Extended Thinking

- Complex vulnerability chains
- Multi-step attack planning
- Code review with deep analysis
- Architecture security review

## Token Usage

### Monitor Usage

```
/cost
```

Displays:

```
Session Token Usage
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Input:  45,230 tokens
Output: 12,450 tokens
Cache:  32,100 tokens (read)
Total:  $0.42
```

### Prompt Caching

Anthropic supports prompt caching for repeated context:

```json
{
  "provider": {
    "anthropic": {
      "options": {
        "cacheControl": true
      }
    }
  }
}
```

## Rate Limits

Anthropic applies rate limits based on your tier:

| Tier | Requests/min | Tokens/min |
|------|--------------|------------|
| Free | 5 | 20,000 |
| Build | 50 | 80,000 |
| Scale | 1,000 | 400,000 |

### Handling Rate Limits

Cyberstrike automatically handles rate limits with exponential backoff:

```json
{
  "provider": {
    "anthropic": {
      "options": {
        "maxRetries": 3,
        "retryDelay": 1000
      }
    }
  }
}
```

## Best Practices

### Model Selection

| Task | Recommended Model |
|------|-------------------|
| Quick recon | claude-3-5-haiku |
| Web app testing | claude-sonnet-4 |
| Complex exploits | claude-opus-4-5 |
| Code review | claude-sonnet-4 |

### Cost Optimization

1. Use Haiku for repetitive tasks
2. Enable prompt caching
3. Use `/compact` for long sessions
4. Limit context with focused prompts

### Security

1. Never commit API keys to repositories
2. Use environment variables
3. Rotate keys periodically
4. Monitor usage on Anthropic dashboard

## Troubleshooting

### Invalid API Key

```
Error: Invalid API key
```

Verify your key:
- Starts with `sk-ant-api03-`
- No trailing whitespace
- Key is active in console

### Rate Limit Exceeded

```
Error: Rate limit exceeded
```

Solutions:
- Wait and retry
- Upgrade your tier
- Use smaller context

### Model Not Available

```
Error: Model not found
```

Check model ID is correct and available in your region.

<Aside variant="tip">
  Use Claude Sonnet for most security testing tasks. Reserve Opus for complex analysis requiring deeper reasoning.
</Aside>

## Related Documentation

- [Providers Overview](/docs/providers) - All supported providers
- [Configuration](/docs/configuration) - Full configuration options
- [Authentication](/docs/getting-started/authentication) - Setup guide
