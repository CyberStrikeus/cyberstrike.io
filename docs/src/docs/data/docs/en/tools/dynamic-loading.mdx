---
title: Dynamic Tool Loading
description: ToolSearch and lazy loading for extended capabilities
sidebar:
  order: 6
  label: Dynamic Loading
---

Cyberstrike supports dynamic tool loading through the ToolSearch tool and MCP integration, enabling access to specialized capabilities on demand.

{/* TODO: Diagram - Dynamic tool loading architecture */}
<div className="border-2 border-dashed border-gray-400 dark:border-gray-600 rounded-lg p-8 my-6 text-center bg-gray-100 dark:bg-gray-800">
  <p className="text-gray-500 dark:text-gray-400 font-mono text-sm">ðŸ“Š DIAGRAM: tool-loading.mmd</p>
  <p className="text-gray-400 dark:text-gray-500 text-xs mt-2">Dynamic tool loading architecture</p>
</div>

## Overview

Dynamic tool loading provides:

- On-demand tool discovery
- MCP server integration
- Lazy initialization
- Reduced memory footprint
- Extended capabilities

## ToolSearch

The ToolSearch tool discovers available tools across MCP servers.

### Basic Search

```
> Search for tools that can scan for vulnerabilities
```

### Search by Capability

```
> Find tools for network reconnaissance
```

### Search Results

```
Found tools:
1. mcp-kali/nmap - Network scanning and discovery
2. mcp-kali/nuclei - Vulnerability scanning
3. mcp-kali/ffuf - Web fuzzing
4. mcp-burp/scan - Burp Suite scanning
```

### Use Discovered Tool

```
> Use the nuclei tool to scan target.com
```

## Lazy Loading

Tools are loaded on first use:

### Initial State

```
Available tools:
- Read (loaded)
- Write (loaded)
- Bash (loaded)
- Browser (lazy)
- Memory (lazy)
- MCP tools (lazy)
```

### After Use

```
> Launch the browser

[Loading Browser tool...]
[Browser ready]
```

### Benefits

- Faster startup
- Lower memory usage
- Tools loaded as needed
- Graceful degradation

## MCP Tool Discovery

### List MCP Tools

```
> Show all available MCP tools
```

### By Server

```
> Show tools from mcp-kali server
```

### Tool Details

```
> Describe the mcp-kali/metasploit tool
```

Output:

```
Tool: mcp-kali/metasploit
Description: Metasploit Framework integration
Parameters:
  - module: Module path (required)
  - options: Module options (optional)
  - payload: Payload selection (optional)
Examples:
  - Search for exploit
  - Run module
  - Generate payload
```

## Tool Registry

### Built-in Tools

Always available:

| Tool | Purpose |
|------|---------|
| Read | File reading |
| Write | File writing |
| Edit | File editing |
| Glob | Pattern matching |
| Grep | Content search |
| Bash | Command execution |

### Lazy Tools

Loaded on demand:

| Tool | Trigger |
|------|---------|
| Browser | Web navigation requests |
| BrowserUI | Interactive browser requests |
| Memory | Storage requests |
| LSP | Code navigation requests |

### MCP Tools

Discovered via MCP:

| Server | Tools |
|--------|-------|
| mcp-kali | nmap, nuclei, sqlmap, etc. |
| mcp-burp | scan, spider, intruder |
| mcp-aws | ec2, s3, iam |

## Configuration

### Enable Lazy Loading

```json title="~/.cyberstrike/config.json"
{
  "tools": {
    "lazyLoad": true,
    "preload": ["Read", "Write", "Bash"]
  }
}
```

### Tool Aliases

```json
{
  "tools": {
    "aliases": {
      "scan": "mcp-kali/nmap",
      "fuzz": "mcp-kali/ffuf",
      "exploit": "mcp-kali/metasploit"
    }
  }
}
```

### Disable Tools

```json
{
  "tools": {
    "disabled": ["BrowserUI", "mcp-kali/metasploit"]
  }
}
```

## Search Optimization

### Caching

Tool search results are cached:

```json
{
  "tools": {
    "searchCache": {
      "enabled": true,
      "ttl": 3600
    }
  }
}
```

### Prefetch

Prefetch commonly used tools:

```json
{
  "tools": {
    "prefetch": ["Browser", "Memory"]
  }
}
```

## Custom Tool Registration

### Register Tool

```json title=".cyberstrike/tools/custom-scanner.json"
{
  "name": "custom-scanner",
  "description": "Custom vulnerability scanner",
  "command": "./scripts/scanner.sh",
  "parameters": {
    "target": {
      "type": "string",
      "required": true
    },
    "profile": {
      "type": "string",
      "default": "standard"
    }
  }
}
```

### Use Custom Tool

```
> Use custom-scanner to scan target.com
```

## Error Handling

### Tool Not Found

```
Error: Tool not found: unknown-tool
```

Solutions:
- Check tool name
- Verify MCP server is running
- Search for alternatives

### Loading Failed

```
Error: Failed to load Browser tool
```

Solutions:
- Check dependencies
- Verify permissions
- Review logs

### MCP Connection Error

```
Error: Cannot connect to MCP server: mcp-kali
```

Solutions:
- Start MCP server
- Check connection settings
- Verify authentication

## Performance Considerations

### Startup Time

| Configuration | Startup |
|---------------|---------|
| All tools loaded | ~3s |
| Lazy loading enabled | ~0.5s |
| Minimal preload | ~0.3s |

### Memory Usage

| Configuration | Memory |
|---------------|--------|
| All tools | ~500MB |
| Lazy loading | ~100MB |
| As needed | Variable |

### Best Practices

1. Enable lazy loading for faster startup
2. Preload frequently used tools
3. Disable unused tools
4. Use tool aliases for convenience
5. Cache search results

## Debugging

### List Loaded Tools

```
> Show currently loaded tools
```

### Tool Status

```
> Show status of all tools
```

Output:

```
Tool Status:
- Read: loaded
- Write: loaded
- Bash: loaded
- Browser: lazy (not loaded)
- Memory: loaded
- mcp-kali/nmap: available
- mcp-kali/nuclei: available
```

### Force Reload

```
> Reload the Browser tool
```

<Aside variant="tip">
  Use ToolSearch to discover capabilities you may not know about.
</Aside>

## Related Documentation

- [Tools Overview](/docs/tools) - All tools
- [MCP Integration](/docs/mcp) - MCP servers
- [Configuration](/docs/configuration) - Tool settings
